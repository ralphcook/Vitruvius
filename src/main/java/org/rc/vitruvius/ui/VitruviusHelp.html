<html>

<head>
	<style>
		body { font-family:Arial font-size: 16}
	</style>
</head>

<body>

<h2> Vitruvius - A map planner for Caesar III </h2>

Vitruvius is a stand-alone program that allows the user to create graphical arrangements of
image glyphs from the Sierra game "Caesar III". It includes two tools, a Drag-and-Drop tool
and a "Glyphy" tool. This guide explains how they work.

<h3> Drag-and-Drop Tool </h3>

This is the tool displayed at startup; it has a space for a single glyph, a button, and a set of drop-downs on the left, 
and a 'map panel' for building up a collection of glyphs on the right. 
The user selects a glyph name from a drop-down, and its
glyph appears in the box at the top left. He then moves his mouse cursor over the map panel
and the glyph moves with his mouse cursor for placement.
He positions the glyph where he wants it and clicks the left button; that places a copy of that
glyph there; he can continue to place more copies of that glyph (this
matches the behavior of placing glyphs in the game). 

<P>Once he is done with that glyph, he may clear the selected glyph by 
<ul>
<li>right-clicking the mouse, 
<li>clicking the 'Clear' button just below the image on the top left, or 
<li>pressing the keyboard's "Escape" key.
</ul>

<P>If the user has selected a glyph which supports it, he may click to drop a copy of the
glyph and, while holding down the mouse button, drag the glyph to create a line of them
(works for road, plaza, garden, and the 3 sizes of house).
This doesn't work quite like the equivalent in the game; it drops a glyph on any tile 
the mouse cursor touches that does not already have a glyph in it, and it makes no attempt
to make a straight line, two lines at a right angle, or a block of the selected tile. In this
mode, every tile touched by the mouse cursor gets another copy of the selected glyph; if the
tile is already occupied, it is skipped, but tiles on the other side of an existing glyph
will still get the selected glyph if the mouse cursor continues.

<P>If the user hovers the mouse over any glyph on the map, the glyph's name is displayed.

<h4> Deleting and Moving Glyphs </h4>

In the drag-and-drop tool, 
if the user wants to delete a glyph from the main panel, he clicks on the glyph and presses 
the "Delete" or "Backspace" key on his keyboard. Clicking on the glyph puts a black border around it, 
though that is hard to see on some glyphs.

<P>If the user wants to move a glyph, he double-clicks it; the glyph then moves with his mouse cursor
in the same way as a glyph chosen from the drop-downs. In this case, clicking to place the glyph in a 
new location then ends the dragging operation, instead of allowing placement of more glyphs of the
same kind.

<h3> The Glyphy Tool </h3>

This tool is selected by clicking on the second tab in the main window; the user enters text to represent glyphs, 
using individual letters to represent each glyph. The tool then generates a map panel  
based on the letters. This functionality was available earlier to users of the Heavengames
website as a JavaScript tool with a layout limit of 40x40 'tiles', where a glyph can occupy 1 or more
tiles.

<P>Space characters and periods are placeholders in the text; for example, if the user puts down an 'r' 
for a reservoir, he can use period characters to space the rest of the 3x3 tile space so that no other glyphs
mistakenly overlap it. If there is overlap of glyphs, Vitruvius warns the user that some placement could
not be made (in the message panel at the bottom of the window), but continues to place whatever 
glyphs it can. 

<P>Any time the text is changed, the "Update Image" button is enabled; the image is only updated on user
command. There are also buttons for generating full and included HTML, as well as one for displaying a text
file containing all the characters and their corresponding glyphs. That information is put in a non-modal 
dialog, so that it can remain visible while the user enters text.

<h3> Changing Glyph Size </h3>

By either selecting the "View / Increase Image Sizes" or pressing the "Plus" or "Equals" key on the keyboard,
the user increases the size of glyphs; doing any of those options repeatedly continues to increase the size 
up to a maximum. Likewise "View / Decrease Image Sizes" or pressing the "Minus" or "Underscore" keys will
decrease the glyph sizes. There is currently no key to return to the default size, nor does the program save
the size selected between runs of the program.

<h3> Saving and Reading Files </h3>

The File options work as most programs do; "Save" stores the current glyph collection in a form the program
can read again, "Save As" allows the user to choose a different filename than was used before. "Open" reads
a previously stored file. Control-S executes the Save function, Control-O the open function.

<P> When in the Drag-and-Drop tool, the file operations read and save a text format file that represents 
the glyphs on the map panel; when in the Glyphy Tool, the file operations read and save the text from the 
text panel.
As far as is known, the glyphy tool is compatible with text used for the original JavaScript glyphy
tool, but that has not gotten substantial testing.

<h3> Generating HTML </h3>

<P>The options under the HTML menu generate HTML containing the map panel from either tool, as either a standalone
web page or HTML suitable for including in the Heavengames (or another) 
forum. The current version of the program
puts the HTML text on the computer's clipboard; the user may then use the "Paste" function to put it into an
editor or anywhere else that accepts a paste operation.

<P>The displayed HTML also supports 'hovertext' indicating the glyph name, just as Vitruvius does. 

<h3> Other Tidbits </h3>

<P> The program currently limits its map to 100x100 'tiles'; some glyphs (road, garden, plaza) only
occupy one tile, others multiple (reservoirs are 3x3 tiles, markets 2x2, etc.). Allowing the user to
specify a different map size is planned as a feature.

<P> The File menu has an option for clearing the currently displayed map panel or glyph text, with a warning 
if this would lose unsaved content.  

<h3> Hotkey List </h3>

<table>
	<tr>
		<td>control-o</td>
		<td>open file</td>
	</tr>
	<tr>
		<td>control-s</td>
		<td>save current panel (map panel or glyph text) to file</td>
	</tr>
	<tr>
		<td>delete or backspace</td>
		<td>remove currently selected glyph from the drag and drop map</td>
	</tr>
	<tr>
		<td>plus or equals</td>
		<td>increase tile size</td>
	</tr>
	<tr>
		<td>minus or underscore</td>
		<td>decrease tile size</td>
	</tr>
</table>

</body>
</html>

<h3>Known Problems</h3>

<ul>
<li>Large glyphs (like hippodromes) do not display correctly in the single glyph area at the top left.
<li>Missing glyphs:
	<ul>
	<li>well
	<li>aqueduct
	<li>dock
	<li>boatyard
	<li>wall (v and h)
	<li>gatehouse (h?)
	<li>Senate?
	<li>Governor's house and palace?
	</ul>  
</ul>

<h3>Planned features</h3>

<ul>
<li>setting the number of tiles allowed for a map.
<li>saving HTML to a file
<li>different language support (the program is designed to make it easy to replace the default
US English to other languages)
</ul>